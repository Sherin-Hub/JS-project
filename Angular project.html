<!DOCTYPE html>
<html lang="en" ng-app="emojiApp">
<head>
  <meta charset="UTF-8">
  <title>ğŸ˜Š Emoji Mood Selector</title>

  <!-- AngularJS -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <!-- Confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding: 40px;
      margin: 0;
      transition: background-color 0.3s;
    }

    h1 {
      font-size: 36px;
      margin-bottom: 10px;
      color: #333;
    }

    .time {
      font-size: 18px;
      color: #555;
      margin-bottom: 20px;
    }

    .mood-container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
      margin: 20px 0;
    }

    .mood-btn {
      font-size: 40px;
      padding: 20px;
      cursor: pointer;
      border-radius: 15px;
      border: 4px solid #ccc;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      transition: transform 0.2s, border-color 0.3s;
      background-color: white;
    }

    .mood-btn:hover {
      transform: scale(1.1);
    }

    .selected {
      border-color: #333;
      transform: scale(1.2);
    }

    .message {
      font-size: 24px;
      margin-top: 30px;
      color: #333;
      padding: 20px;
      border-radius: 15px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      background-color: #fff;
      border: 3px dashed #999;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .happy { background-color: #2ae678; }
    .neutral { background-color: #6c5ee8; }
    .sad { background-color: #efff41; }
    .angry { background-color: #a9236f; }

    body.happy {
      background-image: url('https://static.vecteezy.com/system/resources/thumbnails/030/337/265/small_2x/ai-generative-world-smile-day-concept-yellow-smiley-face-background-free-photo.jpg');
      background-repeat: no-repeat;
      background-position: top right;
      background-size: 2000px;
    }

    body.sad {
      background-image: url('https://png.pngtree.com/background/20230524/original/pngtree-image-picture-image_2707392.jpg');
      background-repeat: no-repeat;
      background-position: top right;
      background-size: 2000px;
    }

    body.neutral {
      background-image: url('https://img.freepik.com/premium-photo/thinking-emoji-neutral-background_1106493-278438.jpg');
      background-repeat: no-repeat;
      background-position: top right;
      background-size: 1700px;
    }

    body.angry {
      background-image: url('https://tse2.mm.bing.net/th/id/OIP.Ia1P0IEJPEdAyeV_AeLOIAHaE8?r=0&w=826&h=551&rs=1&pid=ImgDetMain&o=7&rm=3');
      background-repeat: no-repeat;
      background-position: top right;
      background-size: 2000px;
    }
  </style>
</head>
<body ng-controller="MoodController" ng-class="moodClass">

  <h1>ğŸ˜ƒ What's Your Mood Today?</h1>

  <div class="time"><strong>Current Time:</strong> {{ currentTime }}</div>

  <div class="mood-container">
    <button class="mood-btn" ng-click="setMood('happy')" ng-class="{'selected': selectedMood === 'happy'}">ğŸ˜„</button>
    <button class="mood-btn" ng-click="setMood('neutral')" ng-class="{'selected': selectedMood === 'neutral'}">ğŸ˜</button>
    <button class="mood-btn" ng-click="setMood('sad')" ng-class="{'selected': selectedMood === 'sad'}">ğŸ˜¢</button>
    <button class="mood-btn" ng-click="setMood('angry')" ng-class="{'selected': selectedMood === 'angry'}">ğŸ˜¡</button>
    <button class="mood-btn" ng-click="resetMood()">ğŸ”„</button>
  </div>

  <div class="message">{{ moodMessage }}</div>

  <script>
    angular.module('emojiApp', [])
      .controller('MoodController', function($scope, $interval) {

        const quotes = {
          happy: ["Keep smiling! ğŸ˜Š", "Happiness is contagious!", "Joy is your superpower!"],
          neutral: ["Balance is power.", "Stay steady. Everything flows.", "Peace is precious."],
          sad: ["Better days are coming.", "You are not alone.", "Itâ€™s okay to feel. You're strong."],
          angry: ["Take a breath and let it go.", "You are in control, not your anger.", "Storms donâ€™t last forever."]
        };

        const jokes = {
          happy: [
            "Why don't scientists trust atoms? Because they make up everything! ğŸ˜„",
            "Why did the scarecrow win an award? He was outstanding in his field! ğŸŒ¾",
            "Why donâ€™t skeletons fight each other? They donâ€™t have the guts! ğŸ’€"
          ],
          neutral: [
            "I'm reading a book on anti-gravity. It's impossible to put down! ğŸ“–",
            "Parallel lines have so much in commonâ€¦ Itâ€™s a shame theyâ€™ll never meet. ğŸ˜",
            "Why was the math book sad? It had too many problems. â—"
          ],
          sad: [
            "What do you call a sad coffee? A depresso. â˜•ğŸ˜¢",
            "Why did the bicycle fall over? Because it was two-tired. ğŸš²",
            "Whatâ€™s brown and sticky? A stick. ğŸªµ"
          ],
          angry: [
            "Why did the tomato turn red? Because it saw the salad dressing! ğŸ…",
            "Why don't eggs tell jokes? They'd crack each other up! ğŸ¥š",
            "Don't be angry â€” even calculators make mistakes. ğŸ¤–"
          ]
        };

        function getRandomMessage(arr) {
          const index = Math.floor(Math.random() * arr.length);
          return arr[index];
        }

        $scope.setMood = function(mood) {
          $scope.selectedMood = mood;

          const useJoke = Math.random() < 0.5;
          const message = useJoke ? getRandomMessage(jokes[mood]) : getRandomMessage(quotes[mood]);

          const moodIntros = {
            happy: "Yay! You're feeling happy! ğŸ˜„ ",
            neutral: "It's a calm and neutral day. ğŸ˜ ",
            sad: "Feeling a little down? It's okay. ğŸ˜¢ ",
            angry: "Take a deep breath. It'll pass. ğŸ˜¡ "
          };

          $scope.moodMessage = moodIntros[mood] + message;
          $scope.moodClass = mood;
          localStorage.setItem('lastMood', mood);

          // ğŸ‰ Confetti for happy
          if (mood === 'happy') {
            confetti({ particleCount: 100, spread: 70, origin: { y: 0.8 } });
          }
        };

        $scope.resetMood = function() {
          $scope.selectedMood = "";
          $scope.moodMessage = "";
          $scope.moodClass = "";
          localStorage.removeItem('lastMood');
        };

        $scope.updateTime = function() {
          $scope.currentTime = new Date().toLocaleString();
        };
        $scope.updateTime();
        $interval($scope.updateTime, 1000);

        // Load last mood
        const savedMood = localStorage.getItem('lastMood');
        if (savedMood) {
          $scope.setMood(savedMood);
        }
      });
  </script>
</body>
</html>
